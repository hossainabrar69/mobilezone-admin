"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[994],{2994:(P,_,n)=>{n.r(_),n.d(_,{ProductsModule:()=>q});var U=n(6895),d=n(123),a=n(9390),g=n(1989),m=n(8809),t=n(1571),i=n(2340),Z=n(529);let p=(()=>{class o{constructor(e){this.http=e,this.getAllProduct=()=>this.http.get(`${i.N.API_Url}/products`),this.createProduct=r=>this.http.post(`${i.N.API_Url}/products`,r,{responseType:"blob"}),this.updateProduct=(r,l)=>this.http.patch(`${i.N.API_Url}/products/id/${l}`,r,{responseType:"blob"}),this.deleteProduct=r=>this.http.delete(`${i.N.API_Url}/products/id/${r}`,{responseType:"blob"}),this.getProduct=r=>this.http.get(`${i.N.API_Url}/products/id/${r}`,{responseType:"json"})}uploadFile(e){const r=new FormData;return r.append("image",e),this.http.post(`${i.N.FILE_Url}/uploadImage`,r,{responseType:"json"})}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(Z.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var u=n(7911),A=n(1334);function f(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t._uU(1,"\n                "),t.TgZ(2,"th",9),t._uU(3),t.qZA(),t._uU(4,"\n                "),t.TgZ(5,"td"),t._uU(6),t.qZA(),t._uU(7,"\n                "),t.TgZ(8,"td"),t._uU(9),t.qZA(),t._uU(10,"\n                "),t.TgZ(11,"td"),t._uU(12),t.qZA(),t._uU(13,"\n                "),t.TgZ(14,"td"),t._uU(15),t.qZA(),t._uU(16,"\n                "),t.TgZ(17,"td"),t._uU(18,"\n                 "),t.TgZ(19,"a",10),t.O4$(),t._UZ(20,"svg",11),t.qZA(),t._uU(21," \n                 "),t.kcU(),t.TgZ(22,"a",12),t.NdJ("click",function(){const h=t.CHM(e).$implicit,y=t.oxw();return t.KtG(y.onDelete(h.id))}),t._uU(23," "),t.O4$(),t._UZ(24,"svg",13),t.qZA(),t._uU(25,"\n                "),t.qZA(),t._uU(26,"\n              "),t.qZA()}if(2&o){const e=s.$implicit,r=t.oxw();t.xp6(3),t.Oqu(e.id),t.xp6(3),t.Oqu(e.model),t.xp6(3),t.Oqu(e.details),t.xp6(3),t.Oqu(e.brand),t.xp6(3),t.Oqu(e.price),t.xp6(4),t.MGl("routerLink","/products/edit/",e.id,""),t.xp6(1),t.Q6J("cIcon",r.icons.cilPen),t.xp6(4),t.Q6J("cIcon",r.icons.cilTrash)}}let v=(()=>{class o{constructor(e){this.productService=e,this.icons={cilPen:g.C,cilTrash:m.N}}ngOnInit(){this.getAllProducts()}getAllProducts(){this.isLoading=!0,this.productService.getAllProduct().subscribe(e=>{this.isLoading=!1,this.productList=e},e=>{(e.status=404)&&(this.productList=[])})}onDelete(e){confirm("Are You sure, You want to delete?")&&this.productService.deleteProduct(e).subscribe(r=>{console.log("delete"),this.getAllProducts()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-list"]],decls:58,vars:1,consts:[[1,"p-3"],["md","10"],["md","2"],["routerLink","/products/create","cButton","","color","info"],["xs","12"],[1,"mb-4"],["cTable",""],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[2,"cursor","pointer",3,"routerLink"],["width","20","title","Edit",3,"cIcon"],[2,"cursor","pointer",3,"click"],["width","20","title","Delete",3,"cIcon"]],template:function(e,r){1&e&&(t.TgZ(0,"c-row"),t._uU(1,"\n  "),t.TgZ(2,"c-container"),t._uU(3,"\n    "),t.TgZ(4,"c-row",0),t._uU(5,"\n      "),t.TgZ(6,"c-col",1),t._uU(7,"Products"),t.qZA(),t._uU(8,"\n      "),t.TgZ(9,"c-col",2),t._uU(10,"\n        "),t.TgZ(11,"button",3),t._uU(12,"Add Product"),t.qZA(),t._uU(13,"\n      "),t.qZA(),t._uU(14,"\n    "),t.qZA(),t._uU(15,"\n  "),t.qZA(),t._uU(16,"\n    "),t.TgZ(17,"c-col",4),t._uU(18,"\n      "),t.TgZ(19,"c-card",5),t._uU(20,"\n        "),t.TgZ(21,"c-card-body"),t._uU(22,"\n            "),t.TgZ(23,"table",6),t._uU(24,"\n              "),t.TgZ(25,"thead"),t._uU(26,"\n              "),t.TgZ(27,"tr"),t._uU(28,"\n                "),t.TgZ(29,"th",7),t._uU(30,"#"),t.qZA(),t._uU(31,"\n                "),t.TgZ(32,"th",7),t._uU(33,"Model"),t.qZA(),t._uU(34,"\n                "),t.TgZ(35,"th",7),t._uU(36,"Details"),t.qZA(),t._uU(37,"\n                "),t.TgZ(38,"th",7),t._uU(39,"Brand"),t.qZA(),t._uU(40,"\n                "),t.TgZ(41,"th",7),t._uU(42,"Price"),t.qZA(),t._uU(43,"\n                "),t.TgZ(44,"th",7),t._uU(45,"Action"),t.qZA(),t._uU(46,"\n              "),t.qZA(),t._uU(47,"\n              "),t.qZA(),t._uU(48,"\n              "),t.TgZ(49,"tbody"),t._uU(50,"\n              "),t.YNc(51,f,27,8,"tr",8),t._uU(52,"\n              "),t.qZA(),t._uU(53,"\n            "),t.qZA(),t._uU(54,"\n        "),t.qZA(),t._uU(55,"\n      "),t.qZA(),t._uU(56,"\n    "),t.qZA(),t._uU(57,"\n\n  "),t.qZA()),2&e&&(t.xp6(51),t.Q6J("ngForOf",r.productList))},dependencies:[U.sg,d.rH,d.yS,u.auY,u.AkF,u.yue,u.e$z,u.iok,u.Yp0,A.ar,u.Hq3]}),o})();var c=n(433);let T=(()=>{class o{constructor(e,r,l){this.productService=e,this.router=r,this.route=l,this.id=Number(this.route.snapshot.paramMap.get("id")),this.productForm=new c.cw({product_id:new c.NI(""),product_name:new c.NI(""),model:new c.NI(""),details:new c.NI(""),brand:new c.NI(""),image:new c.NI(""),price:new c.NI("")})}ngOnInit(){this.id&&this.getProductDetails()}getProductDetails(){this.productService.getProduct(this.id).subscribe(e=>{this.productForm.patchValue(e),this.photo=`${i.N.FILE_Url}/${e.image}`})}onSubmit(){this.id?this.updateProduct():this.createProduct()}createProduct(){this.uploadFile().then(()=>{this.productService.createProduct(this.productForm.value).subscribe(r=>{this.router.navigate(["/products/list"])})})}updateProduct(){this.uploadFile().then(()=>{this.productService.updateProduct(this.productForm.value,this.id).subscribe(e=>{this.router.navigate(["/products/list"])})})}onFileSelected(e){if(this.selectedFile=e.target.files[0],e.target.files&&e.target.files[0]){var r=new FileReader;r.onload=l=>{this.photo=l.target.result},r.readAsDataURL(e.target.files[0])}}uploadFile(){return new Promise(e=>{this.selectedFile?this.productService.uploadFile(this.selectedFile).subscribe(r=>{this.productForm.controls.image.setValue(r.path),e(!0)},r=>{e(!0)}):e(!0)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p),t.Y36(d.F0),t.Y36(d.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-create-product"]],decls:67,vars:3,consts:[["xs","6"],[1,"mb-4"],["cForm","",3,"formGroup","ngSubmit"],[1,"mb-3"],["cLabel","","for","model"],["cFormControl","","formControlName","model","id","model","placeholder","Model","type","Text"],["cLabel","","for","details"],["formControlName","details","cFormControl","","id","details","rows","3"],["cLabel","","for","formFile"],["cFormControl","","id","formFile","type","file",3,"change"],["cLabel","","for","brand"],["cFormControl","","formControlName","brand","id","brand","placeholder","Brand","type","Text"],["cLabel","","for","price"],["cFormControl","","formControlName","price","id","price","placeholder","Price","type","Text"],["cButton","","color","primary","type","submit"],["loading","lazy",1,"d-block","w-100",3,"src","alt"]],template:function(e,r){1&e&&(t.TgZ(0,"c-row"),t._uU(1,"\n    "),t.TgZ(2,"c-col",0),t._uU(3,"\n      "),t.TgZ(4,"c-card",1),t._uU(5,"\n        "),t.TgZ(6,"c-card-body"),t._uU(7,"\n            "),t.TgZ(8,"form",2),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t._uU(9,"\n              "),t.TgZ(10,"div",3),t._uU(11,"\n                "),t.TgZ(12,"label",4),t._uU(13,"Model"),t.qZA(),t._uU(14,"\n                "),t._UZ(15,"input",5),t._uU(16,"\n              "),t.qZA(),t._uU(17,"\n              "),t.TgZ(18,"div",3),t._uU(19,"\n                "),t.TgZ(20,"label",6),t._uU(21,"Details"),t.qZA(),t._uU(22,"\n                "),t._UZ(23,"textarea",7),t._uU(24,"\n              "),t.qZA(),t._uU(25,"\n              "),t.TgZ(26,"div",3),t._uU(27,"\n                "),t.TgZ(28,"label",8),t._uU(29,"Image (.png, .jpg)"),t.qZA(),t._uU(30,"\n                "),t.TgZ(31,"input",9),t.NdJ("change",function(h){return r.onFileSelected(h)}),t.qZA(),t._uU(32,"\n              "),t.qZA(),t._uU(33,"\n              "),t.TgZ(34,"div",3),t._uU(35,"\n                "),t.TgZ(36,"label",10),t._uU(37,"Brand"),t.qZA(),t._uU(38,"\n                "),t._UZ(39,"input",11),t._uU(40,"\n              "),t.qZA(),t._uU(41,"\n              "),t.TgZ(42,"div",3),t._uU(43,"\n                "),t.TgZ(44,"label",12),t._uU(45,"Price"),t.qZA(),t._uU(46,"\n                "),t._UZ(47,"input",13),t._uU(48,"\n              "),t.qZA(),t._uU(49,"\n              "),t._UZ(50,"input",14),t._uU(51,"\n            "),t.qZA(),t._uU(52,"\n        "),t.qZA(),t._uU(53,"\n      "),t.qZA(),t._uU(54,"\n    "),t.qZA(),t._uU(55,"\n    "),t.TgZ(56,"c-col",0),t._uU(57,"\n      "),t.TgZ(58,"c-card",1),t._uU(59,"\n        "),t.TgZ(60,"c-card-body"),t._uU(61,"\n          "),t._UZ(62,"img",15),t._uU(63,"\n        "),t.qZA(),t._uU(64,"\n        "),t.qZA(),t._uU(65,"\n    "),t.qZA(),t._uU(66,"\n  "),t.qZA()),2&e&&(t.xp6(8),t.Q6J("formGroup",r.productForm),t.xp6(54),t.s9C("alt",r.photo),t.Q6J("src",r.photo,t.LSH))},dependencies:[u.AkF,u.yue,u.iok,u.Yp0,u.Hq3,u.$_X,u.oHf,u.eFW,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u]}),o})();const F=[{path:"",children:[{path:"list",component:v,data:{title:"Product List"},canActivate:[a.a]},{path:"create",component:T,data:{title:"Create Product"},canActivate:[a.a]},{path:"edit/:id",component:T,data:{title:"Update Product"},canActivate:[a.a]}]}];let C=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.Bz.forChild(F),d.Bz]}),o})();var b=n(7642);let q=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[p],imports:[U.ez,C,u.U$I,u.dTQ,b.E,u.zE6,A.QX,u.hJ1,u.ejP,c.UX,c.u5,u.bBg]}),o})()},7642:(P,_,n)=>{n.d(_,{E:()=>t});var U=n(6895),d=n(123),a=n(7911),g=n(1334),m=n(1571);let t=(()=>{class i{}return i.\u0275fac=function(p){return new(p||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({imports:[U.ez,a.dGk,g.QX,d.Bz,a.P4_,a.gzQ,a.dfc]}),i})()}}]);